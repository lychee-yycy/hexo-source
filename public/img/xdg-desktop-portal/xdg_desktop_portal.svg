<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="677px" preserveAspectRatio="none" style="width:1148px;height:677px;background:#FFFFFF;" version="1.1" viewBox="0 0 1148 677" width="1148px" zoomAndPan="magnify"><defs><filter height="300%" id="fp6hpwka0kpw4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="none" height="50.5438" id="_title" style="stroke:none;stroke-width:1.0;" width="260" x="437.25" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="145" x="493.25" y="26.2399">Author: Xiao YaoBing</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="247" x="445.25" y="46.5118">Email:xiaoyaobing@uniontech.com</text><!--MD5=[0b4e4b4980470ea387cc45de9bd14b5b]
class Application--><g id="elem_Application"><rect codeLine="5" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="108.8157" id="Application" style="stroke:#A80036;stroke-width:1.0;" width="323" x="121.5" y="68.5438"/><ellipse cx="240.75" cy="84.5438" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M240.9844,91.2469 C242.1406,91.2469 243.2344,90.7626 244.0625,89.7313 L242.6406,88.2157 C242.25,88.7626 241.7813,89.0751 241.2188,89.0751 C240.0313,89.0751 239.0156,87.9344 239.0156,84.7001 C239.0156,81.5438 240.0781,80.3719 241.1094,80.3719 C241.7031,80.3719 242.0781,80.6688 242.5,81.1688 L243.9219,79.6063 C243.25,78.8563 242.2813,78.2157 241,78.2157 C238.5781,78.2157 236.4375,80.1844 236.4375,84.8094 C236.4375,89.4501 238.5781,91.2469 240.9844,91.2469 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="261.25" y="90.6478">Application</text><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="443.5" y1="100.5438" y2="100.5438"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="129.5" y="113.1798"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="141.5" y="120.7838">appName: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="129.5" y="133.4517"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="141.5" y="141.0557">permissionsRequested: List&lt;String&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="443.5" y1="149.0876" y2="149.0876"/><ellipse cx="132.5" cy="164.7236" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297" x="141.5" y="169.3276">requestsPermission(permission: String): void</text></g><!--MD5=[f5ea1f64bc04260f09f32845b6b2c213]
class Portal--><g id="elem_Portal"><rect codeLine="11" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="48" id="Portal" style="stroke:#A80036;stroke-width:1.0;" width="71" x="465.5" y="257.3638"/><ellipse cx="480.5" cy="273.3638" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M480.7344,280.0669 C481.8906,280.0669 482.9844,279.5826 483.8125,278.5513 L482.3906,277.0357 C482,277.5826 481.5313,277.8951 480.9688,277.8951 C479.7813,277.8951 478.7656,276.7544 478.7656,273.5201 C478.7656,270.3638 479.8281,269.1919 480.8594,269.1919 C481.4531,269.1919 481.8281,269.4888 482.25,269.9888 L483.6719,268.4263 C483,267.6763 482.0313,267.0357 480.75,267.0357 C478.3281,267.0357 476.1875,269.0044 476.1875,273.6294 C476.1875,278.2701 478.3281,280.0669 480.7344,280.0669 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="494.5" y="279.4678">Portal</text><line style="stroke:#A80036;stroke-width:1.0;" x1="466.5" x2="535.5" y1="289.3638" y2="289.3638"/><line style="stroke:#A80036;stroke-width:1.0;" x1="466.5" x2="535.5" y1="297.3638" y2="297.3638"/></g><!--MD5=[10090656527448e5dbb493f3422f056a]
class DesktopEnvironment--><g id="elem_DesktopEnvironment"><rect codeLine="14" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="88.5438" id="DesktopEnvironment" style="stroke:#A80036;stroke-width:1.0;" width="481" x="479.5" y="78.6838"/><ellipse cx="645.75" cy="94.6838" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M645.9844,101.3869 C647.1406,101.3869 648.2344,100.9026 649.0625,99.8713 L647.6406,98.3557 C647.25,98.9026 646.7813,99.2151 646.2188,99.2151 C645.0313,99.2151 644.0156,98.0744 644.0156,94.8401 C644.0156,91.6838 645.0781,90.5119 646.1094,90.5119 C646.7031,90.5119 647.0781,90.8088 647.5,91.3088 L648.9219,89.7463 C648.25,88.9963 647.2813,88.3557 646,88.3557 C643.5781,88.3557 641.4375,90.3244 641.4375,94.9494 C641.4375,99.5901 643.5781,101.3869 645.9844,101.3869 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="666.25" y="100.7878">DesktopEnvironment</text><line style="stroke:#A80036;stroke-width:1.0;" x1="480.5" x2="959.5" y1="110.6838" y2="110.6838"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="487.5" y="123.3198"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="499.5" y="130.9238">portals: List&lt;Portal&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="480.5" x2="959.5" y1="138.9557" y2="138.9557"/><ellipse cx="490.5" cy="154.5917" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="455" x="499.5" y="159.1957">requestPermission(application: Application, permission: String): void</text></g><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><g id="elem_User"><rect codeLine="19" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="88.5438" id="User" style="stroke:#A80036;stroke-width:1.0;" width="139" x="995.5" y="78.6838"/><ellipse cx="1045.75" cy="94.6838" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1045.9844,101.3869 C1047.1406,101.3869 1048.2344,100.9026 1049.0625,99.8713 L1047.6406,98.3557 C1047.25,98.9026 1046.7813,99.2151 1046.2188,99.2151 C1045.0313,99.2151 1044.0156,98.0744 1044.0156,94.8401 C1044.0156,91.6838 1045.0781,90.5119 1046.1094,90.5119 C1046.7031,90.5119 1047.0781,90.8088 1047.5,91.3088 L1048.9219,89.7463 C1048.25,88.9963 1047.2813,88.3557 1046,88.3557 C1043.5781,88.3557 1041.4375,90.3244 1041.4375,94.9494 C1041.4375,99.5901 1043.5781,101.3869 1045.9844,101.3869 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1066.25" y="100.7878">User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="996.5" x2="1133.5" y1="110.6838" y2="110.6838"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1003.5" y="123.3198"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1015.5" y="130.9238">userID: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1003.5" y="143.5917"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1015.5" y="151.1957">username: String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="996.5" x2="1133.5" y1="159.2276" y2="159.2276"/></g><!--MD5=[29335f001da8f3c0e76a3b8c521e2f48]
class FilePortal--><g id="elem_FilePortal"><rect codeLine="24" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="88.5438" id="FilePortal" style="stroke:#A80036;stroke-width:1.0;" width="462" x="7" y="366.3638"/><ellipse cx="202.25" cy="382.3638" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M202.4844,389.0669 C203.6406,389.0669 204.7344,388.5826 205.5625,387.5513 L204.1406,386.0357 C203.75,386.5826 203.2813,386.8951 202.7188,386.8951 C201.5313,386.8951 200.5156,385.7544 200.5156,382.5201 C200.5156,379.3638 201.5781,378.1919 202.6094,378.1919 C203.2031,378.1919 203.5781,378.4888 204,378.9888 L205.4219,377.4263 C204.75,376.6763 203.7813,376.0357 202.5,376.0357 C200.0781,376.0357 197.9375,378.0044 197.9375,382.6294 C197.9375,387.2701 200.0781,389.0669 202.4844,389.0669 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="222.75" y="388.4678">FilePortal</text><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="468" y1="398.3638" y2="398.3638"/><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="468" y1="406.3638" y2="406.3638"/><ellipse cx="18" cy="421.9998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="436" x="27" y="426.6038">requestFilePermission(application: Application, path: String): void</text><ellipse cx="18" cy="442.2717" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="27" y="446.8757">getFilePermissions(user: User): List&lt;String&gt;</text></g><!--MD5=[e0941494874cef1ff3fc3541063fb4d8]
class CameraPortal--><g id="elem_CameraPortal"><rect codeLine="29" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="88.5438" id="CameraPortal" style="stroke:#A80036;stroke-width:1.0;" width="521" x="504.5" y="366.3638"/><ellipse cx="715.75" cy="382.3638" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M715.9844,389.0669 C717.1406,389.0669 718.2344,388.5826 719.0625,387.5513 L717.6406,386.0357 C717.25,386.5826 716.7813,386.8951 716.2188,386.8951 C715.0313,386.8951 714.0156,385.7544 714.0156,382.5201 C714.0156,379.3638 715.0781,378.1919 716.1094,378.1919 C716.7031,378.1919 717.0781,378.4888 717.5,378.9888 L718.9219,377.4263 C718.25,376.6763 717.2813,376.0357 716,376.0357 C713.5781,376.0357 711.4375,378.0044 711.4375,382.6294 C711.4375,387.2701 713.5781,389.0669 715.9844,389.0669 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="736.25" y="388.4678">CameraPortal</text><line style="stroke:#A80036;stroke-width:1.0;" x1="505.5" x2="1024.5" y1="398.3638" y2="398.3638"/><line style="stroke:#A80036;stroke-width:1.0;" x1="505.5" x2="1024.5" y1="406.3638" y2="406.3638"/><ellipse cx="515.5" cy="421.9998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="495" x="524.5" y="426.6038">requestCameraPermission(application: Application, cameraID: String): void</text><ellipse cx="515.5" cy="442.2717" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="524.5" y="446.8757">getCameraPermissions(user: User): List&lt;String&gt;</text></g><!--MD5=[03da7ad6344b0b2c818a169ad3cc63fd]
class Permission--><g id="elem_Permission"><rect codeLine="42" fill="#FEFECE" filter="url(#fp6hpwka0kpw4)" height="129.0876" id="Permission" style="stroke:#A80036;stroke-width:1.0;" width="274" x="364" y="534.9038"/><ellipse cx="459.75" cy="550.9038" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M459.9844,557.6069 C461.1406,557.6069 462.2344,557.1226 463.0625,556.0913 L461.6406,554.5757 C461.25,555.1226 460.7813,555.4351 460.2188,555.4351 C459.0313,555.4351 458.0156,554.2944 458.0156,551.0601 C458.0156,547.9038 459.0781,546.7319 460.1094,546.7319 C460.7031,546.7319 461.0781,547.0288 461.5,547.5288 L462.9219,545.9663 C462.25,545.2163 461.2813,544.5757 460,544.5757 C457.5781,544.5757 455.4375,546.5444 455.4375,551.1694 C455.4375,555.8101 457.5781,557.6069 459.9844,557.6069 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="480.25" y="557.0078">Permission</text><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="637" y1="566.9038" y2="566.9038"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="372" y="579.5398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="384" y="587.1438">permissionName: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="372" y="599.8117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="384" y="607.4157">permissionType: String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="372" y="620.0836"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="384" y="627.6876">granted: boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="637" y1="635.7196" y2="635.7196"/><ellipse cx="375" cy="651.3555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="384" y="655.9595">isGrantedByUser(user: User): boolean</text></g><!--MD5=[a4b289d3e58311c7a53a8cd9da189bb0]
link Application to Portal--><g id="link_Application_Portal"><path codeLine="34" d="M358.02,177.7838 C393.8,203.4438 435,233.0038 463.95,253.7838 " fill="none" id="Application-to-Portal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="467.49,257.0438,462.5139,248.5445,463.4291,254.1268,457.8467,255.042,467.49,257.0438" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="426" y="223.4438">requests</text></g><!--MD5=[0a3d34a02947d96e2f318ec047a61397]
link DesktopEnvironment to Portal--><g id="link_DesktopEnvironment_Portal"><path codeLine="35" d="M659,167.5238 C620.27,195.1738 571.41,230.0738 538.36,253.6838 " fill="none" id="DesktopEnvironment-to-Portal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="534.6,257.0838,544.2512,255.1204,538.6725,254.183,539.6099,248.6044,534.6,257.0838" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="599" y="223.4438">handles</text></g><!--MD5=[52da69cdffeebb41cc3f61ebaf35667c]
reverse link Portal to FilePortal--><g id="link_Portal_FilePortal"><path codeLine="36" d="M446.53,308.7238 C412.43,325.2238 367.64,346.8938 328.32,365.9238 " fill="none" id="Portal-backto-FilePortal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="443.2,302.0738,464.26,299.6638,449.3,314.6738,443.2,302.0738" style="stroke:#A80036;stroke-width:1.0;"/></g><!--MD5=[d5ddadafc4afa07c2ab64a2d5c85b7fd]
reverse link Portal to CameraPortal--><g id="link_Portal_CameraPortal"><path codeLine="37" d="M555.68,308.7238 C589.91,325.2238 634.86,346.8938 674.33,365.9238 " fill="none" id="Portal-backto-CameraPortal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="552.85,314.6538,537.88,299.6638,558.93,302.0438,552.85,314.6538" style="stroke:#A80036;stroke-width:1.0;"/></g><!--MD5=[e039c2b89c0b0e1f1a72922fcd7bb9b5]
link FilePortal to Permission--><g id="link_FilePortal_Permission"><path codeLine="39" d="M299.33,455.1938 C332.5,478.7538 374.08,508.2938 410.86,534.4238 " fill="none" id="FilePortal-Permission" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="363" y="500.9838">has</text></g><!--MD5=[9808f87ee27740ad52afafedb8805287]
link CameraPortal to Permission--><g id="link_CameraPortal_Permission"><path codeLine="40" d="M703.44,455.1938 C670.15,478.7538 628.4,508.2938 591.48,534.4238 " fill="none" id="CameraPortal-Permission" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="657" y="500.9838">has</text></g><!--MD5=[a2653ea36ced881819bf240ee58b7a68]
@startuml xdg_desktop_portal

skin rose
title "Author: Xiao YaoBing \n Email:xiaoyaobing@uniontech.com"

class Application {
  - appName: String
  - permissionsRequested: List<String>
  + requestsPermission(permission: String): void
}

class Portal {
}

class DesktopEnvironment {
  - portals: List<Portal>
  + requestPermission(application: Application, permission: String): void
}

class User {
  - userID: String
  - username: String
}

class FilePortal {
  + requestFilePermission(application: Application, path: String): void
  + getFilePermissions(user: User): List<String>
}

class CameraPortal {
  + requestCameraPermission(application: Application, cameraID: String): void
  + getCameraPermissions(user: User): List<String>
}

Application  - ->  Portal : requests
DesktopEnvironment - -> Portal : handles
Portal <|- - FilePortal
Portal <|- - CameraPortal

FilePortal  - -  Permission : has
CameraPortal  - -  Permission : has

class Permission {
  - permissionName: String
  - permissionType: String
  - granted: boolean
  + isGrantedByUser(user: User): boolean
}

@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>